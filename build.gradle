allprojects {
   apply plugin: 'java'
   apply plugin: 'groovy'
   apply plugin: 'scala'
   apply plugin: 'maven'
   apply plugin: 'idea'
   apply plugin: 'eclipse'

   group = 'com.susico'
   version = '0.1'

   description = 'A minimalist set of libraries to build trading systems'

   repositories {
      mavenLocal()
      mavenCentral()

      maven { url 'http://oss.sonatype.org/content/groups/public/' }
   }

   configurations {
      provided
      provided.extendsFrom(compile)

      groovyDoc
   }

   dependencies {
      compile group: 'com.intellij', name: 'annotations', version: '12.0'

      compile group: 'it.unimi.dsi', name: 'fastutil', version: '6.5.15'
      compile group: 'it.unimi.dsi', name: 'dsiutils', version: '2.2.0'
      compile group: 'it.unimi.dsi', name: 'sux4j', version: '3.1.2'

      groovyVersion = '2.4.0-beta-1'

      compile group: 'org.codehaus.groovy', name: 'groovy-all', version: groovyVersion

      groovyDoc group: 'org.codehaus.groovy', name: 'groovy-groovydoc', version: groovyVersion
      groovyDoc group: 'org.codehaus.groovy', name: 'groovy-ant', version: groovyVersion

      testCompile group: 'org.codenarc', name: 'CodeNarc', version: '0.21'
      testCompile group: 'org.spockframework', name: 'spock-core', version: '0.7-groovy-2.0'

      compile group: 'org.scala-lang', name: 'scala-library-all', version: '2.11.1'
   }

   task wrapper(type: Wrapper) {
      gradleVersion = '1.12'
   }

   groovydoc {
      groovyClasspath = configurations.groovyDoc
   }

   idea {
      module {
         scopes.PROVIDED.plus += configurations.provided

         downloadJavadoc = true
      }
   }
}

dependencies {
   compile project(':core')
   compile project(':chronicles')
   compile project(':disruptor')
   compile project(':gpars')
}
